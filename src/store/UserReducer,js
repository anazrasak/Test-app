export const CONSTANT = {
  restore_data: 'RESTORE_TOKEN',
  sign_in: 'SIGN_IN',
  sign_out: 'SIGN_OUT',
};

export const initialState = {
  isLoading: true,
  token: null,
  user_type: null,
  isSignout: false,
  session_data: {},
  first_name: '',
};

export const authReducer = (state, action) => {
  // console.log(state, action, 'ooooo');
  switch (action.type) {
    case CONSTANT.restore_data:
      return {
        ...state,
        ...action.state,
        isLoading: false,
      };
    case CONSTANT.sign_in:
      return {
        ...state,
        isSignout: false,
        token: action.payload.token,
        user_type: action.payload.user_type,
        first_name: action.payload.first_name,
        username: action.payload.username,
        Current_lang: action.payload.langcode,
        TerminalID: action.terminalid,
      };
    case CONSTANT.sign_out:
      return {
        ...state,
        isLoading: false,
        isSignout: true,
        token: null,
        user_type: null,
        session_data: {},
      };
    default:
      return state;
  }
};

export default authReducer;
